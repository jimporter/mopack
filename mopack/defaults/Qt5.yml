origin:
  '*':
    submodules: '*'
linkage:
  system:
    submodule_linkage:
      - if: submodule == 'Core'
        headers: [QtCore, QtCore/QtCore]
        pcname: Qt5Core
        include_path: &include_path >-
          ${{ env['QT_INCLUDEDIR'] ?
                [ env['QT_INCLUDEDIR'],
                  env['QT_INCLUDEDIR'] + '/Qt' + submodule ] :
                env['QT_ROOT'] ?
                  [ env['QT_ROOT'] + '/include',
                    env['QT_ROOT'] + '/include/Qt' + submodule ] :
                  null }}
        library_path: &library_path >-
          ${{ env['QT_LIBRARYDIR'] || (
            env['QT_ROOT'] ? env['QT_ROOT'] + '/lib' : null
          ) }}
        libraries: [Qt5Core]
      # XXX: Other Qt submodules probably need additional dependencies, but the
      # above should be sufficient for basic cases.
      - dependencies: ['Qt5[Core]']
        pcname: Qt5$submodule
        include_path: *include_path
        library_path: *library_path
        headers: [Qt$submodule]
        libraries: [Qt5$submodule]
