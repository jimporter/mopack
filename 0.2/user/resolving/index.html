<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Resolving Packages With mopack - mopack</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/color-brewer.min.css">
        <link href="../../css/extra.css" rel="stylesheet">
        <link href="../../css/version-select.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">mopack</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li class="active">
    <a href="./">Resolving Packages With mopack</a>
</li>
                                    
<li >
    <a href="../writing/">Writing mopack.yml Configurations</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reference <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../reference/file-structure/">File Structure</a>
</li>
                                    
<li >
    <a href="../../reference/packages/">Packages</a>
</li>
                                    
<li >
    <a href="../../reference/builders/">Builders</a>
</li>
                                    
<li >
    <a href="../../reference/linkage/">Linkage</a>
</li>
                                    
<li >
    <a href="../../reference/expressions/">Expressions</a>
</li>
                                    
<li >
    <a href="../../reference/command-line/">Command-Line Interface</a>
</li>
                                    
<li >
    <a href="../../reference/environment-vars/">Environment Variables</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../../about/changes/">Changes</a>
</li>
                                    
<li >
    <a href="../../about/license/">License</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../..">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../writing/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/jimporter/mopack/"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#resolving-packages-with-mopack">Resolving Packages With mopack</a></li>
            <li><a href="#resolution">Resolution</a></li>
            <li><a href="#linkage">Linkage</a></li>
            <li><a href="#deployment">Deployment</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="resolving-packages-with-mopack">Resolving Packages With mopack<a class="headerlink" href="#resolving-packages-with-mopack" title="Permanent link">ยง</a></h1>
<p>Most package managers allow developers to pull dependencies from a remote origin
and prepare them for use by your build system. In this regard, mopack is no
different.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>mopack is careful not to use the term "install"; depending on context,
installation can refer to one of two very-different concepts:</p>
<ol>
<li><em>Resolve</em>: to fetch a dependency from its origin and prepare it
   (usually by building) for use by the root project (e.g. <code>conan install</code>)</li>
<li><em>Deploy</em>: to copy any files from the dependency needed for running the
   root project into their final locations (e.g. <code>make install</code>)</li>
</ol>
</div>
<h2 id="resolution">Resolution<a class="headerlink" href="#resolution" title="Permanent link">ยง</a></h2>
<p>The first step in working with dependencies is, unsurprisingly, getting them.
This is really two sub-steps rolled into one: fetching and building. This
typically involves downloading the appropriate files from some remote origin
(possibly recursively in the case of <a href="../../reference/packages/#source-distribution">source
distributions</a>) and then compiling
any projects as needed in the proper order, using their respective build
systems.</p>
<p>In most cases, this step should occur <em>before</em> configuration of the
root project's build (for build configuration systems that natively support
mopack, such as <a href="https://jimporter.github.io/bfg9000/">bfg9000</a>, this happens automatically). However, when
run manually, users should invoke the following command:</p>
<pre><code class="sh">$ mopack resolve /path/to/project/
</code></pre>

<p>This will get all the dependencies specified in <code>/path/to/project/mopack.yml</code>
and collect the info necessary to use them in <code>./mopack/</code>. If your build dir is
<em>not</em> the current directory, you can specify another location with <code>--directory
/path/to/builddir/</code>.</p>
<p>You can also specify multiple paths when resolving, including specific
filenames:</p>
<pre><code class="sh">$ mopack resolve . mopack-special.yml
</code></pre>

<p>This can be useful for providing alternate configurations or for adding
mopack configurations automatically generated by a tool.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Packages and options specified in later files <em>override</em> previous values.</p>
</div>
<h3 id="local-configuration">Local configuration<a class="headerlink" href="#local-configuration" title="Permanent link">ยง</a></h3>
<p>Projects that use mopack often contain their own <code>mopack.yml</code> configuration;
however, when building such a project, you may not want to use this
configuration (or may only want to use parts of it). In this case, you can
provide your own <code>mopack-local.yml</code> file to override the project's
configuration. When passing a directory to <code>mopack resolve</code>, mopack will look
for both <code>mopack.yml</code> and <code>mopack-local.yml</code>, with any packages or options
specified in the latter file will override those in the former. Thus, if both
<code>mopack.yml</code> and <code>mopack-local.yml</code> exist, <code>mopack resolve .</code> is equivalent to:</p>
<pre><code class="sh">$ mopack resolve mopack.yml mopack-local.yml
</code></pre>

<h2 id="linkage">Linkage<a class="headerlink" href="#linkage" title="Permanent link">ยง</a></h2>
<p>Once a project's dependencies are ready to use, the next step is actually using
them. Generally, this step occurs <em>during</em> the root project's configuration
step. To get a package's linkage information, run the following command:</p>
<pre><code class="sh">$ mopack linkage some-package
</code></pre>

<p>This will return the package's
<a href="../../reference/linkage/#linkage-results">linkage</a> information in YAML format
(or JSON if <code>--json</code> is passed), which can then be fed to the dependent build
steps.</p>
<p>Some packages contain <a href="../writing/#submodules">submodules</a>, representing optional
components that you may or may not want to use (e.g. individual libraries from
the Boost package). In this case, you can specify the submodules you want to use
in a particular situation when invoking <code>mopack linkage</code>:</p>
<pre><code class="sh">$ mopack linkage 'some-package[submodule1,submodule2]'
</code></pre>

<h2 id="deployment">Deployment<a class="headerlink" href="#deployment" title="Permanent link">ยง</a></h2>
<p>Finally, some projects may want to deploy dependencies alongside the project's
own binaries (e.g. when running <code>make install</code>). This step (generally performed
during the root project's <code>make install</code> process, naturally) runs whatever
commands are necessary for each dependency to deploy them to the final
destination:</p>
<pre><code class="sh">$ mopack deploy
</code></pre>

<p>Any dependency whose <code>deploy</code> property is true (the default) will then be
deployed.</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2020-2023 Jim Porter</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../js/version-select.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
